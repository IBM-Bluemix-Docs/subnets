---
copyright:
  years: 1994, 2017, 2018, 2019
lastupdated: "2018-02-28"

keywords: Ms IP addresses, Use Secondary Subnets, own virtual machines

subcollection: subnets

---
{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 자체 호스팅 VM에서 보조 서브넷 사용
{:#use-secondary-subnets-self-hosted-vms}

고유 가상 머신을 호스팅하며 해당 가상 머신이 {{site.data.keyword.BluSoftlayer_notm}}
네트워크의 첫 번째 클래스 구성원이 되게 하려면 **보조 서브넷**을
활용해야 합니다. 클러스터링된 구성에 참여하는지에 상관없이
하나 이상의 가상 머신 호스트를 사용하여 VM에 IP 주소를 제공하는
유연한 방법에 관해 설명합니다.

이 시나리오의 전 과정에서 설명된 서브넷 유형에 관한 자세한 정보를 보려면 [서브넷 정보](/docs/infrastructure/subnets?topic=subnets-about-subnets-and-ips)를 참조하십시오.

예를 들어 두 개의 Bare Metal Server가 있으며 각각 `aunt`와 `uncle`이라고 부릅니다. 둘 다 고유 가상 머신의 호스트가 되며 각각에는 이미 **기본 서브넷**에서 지정한 고유 IP 주소가 있습니다. 가상 머신에 사용할 추가 IP 주소가 필요합니다. 임의의 유형의 보조 서브넷을 사용하여 추가 IP 주소를 충당할 수 있지만 **휴대용 보조 서브넷**을 VM에서 사용하는 주소의 소스로 사용하는 것이 좋습니다. 휴대용 서브넷에서는 서브넷에서 정의한 IP 주소에 `aunt`와 `uncle` 액세스 권한을 모두 제공합니다. 이 방식으로 두 서버 모두에서 해당 IP 주소를 공유할 수 있으며 VM에 마이그레이션
기술을 사용하는 경우 해당 서버 간에 VM을 원할하게 전송할 수 있습니다. 

이제 두 개의 가상 머신, `VPS1`과 `VPS2`를 작성했으며 휴대용 서브넷 129.42.0.0/29를 구매했고 여기에서 가상 머신에 두 개의 주소를 할당했다고 가정합니다. 그러면 IP 주소는 다음과 같이 활용할 수 있습니다.

129.42.0.0/29 - 휴대용 보조 서브넷
```
129.42.0.0 – Network
129.42.0.1 – Gateway
129.42.0.2 –
129.42.0.3 – VPS1
129.42.0.4 –
129.42.0.5 – VPS2
129.42.0.6 –
129.42.0.7 – Broadcast
```

이제 제공하는 서비스를 구분하기 위해 VPS1에 IP 주소를 추가한다고 가정합니다. 129.42.0.0/29 서브넷에서 추가 주소를 지정할 수 있지만 서비스가 아니라 VM을 온라인 상태로 만드는 데만 해당 서브넷을 사용할 수도 있습니다. 그러면 이제 1) 다른 휴대용 서브넷 구매 2) 정적 서브넷 구매와 같은 두 가지 옵션이 있습니다. [서브넷 정보](/docs/infrastructure/subnets?topic=subnets-about-subnets-and-ips)에 설명되어 있는 휴대용 서브넷과 정적 서브넷 비교 내용을 상기해 보면 해당 서브넷에서도 모든 IP 주소에 액세스할 수 있는 권한을 제공하지는 않습니다. 예를 들어 4개의 추가 IP 주소만 필요하면 정적 서브넷을 구매하는 것이 효율적인 옵션입니다. 이 옵션을 시도해 보겠습니다.

정적 서브넷을 구매하여 129.42.0.100/30을 받습니다. 이 시나리오에서는 구매 중에 129.42.0.3 또는 VPS1로 라우팅합니다. 그러면 129.42.0.3에 응답하는 모든 서버, 즉 현재는 VPS1에서 사용하도록 4개의 IP 주소를 모두 제공하지만, 언제든 129.42.0.3을 VPS2로 전송할 수 있습니다. 그러면 129.42.0.100/30에서 4개의 새 IP 주소가 따라 옵니다! 이제 IP 주소 활용을 다시 살펴보겠습니다.

129.42.0.0/29 - 휴대용 보조 서브넷
```
129.42.0.0 – Network
129.42.0.1 – Gateway
129.42.0.2 –
129.42.0.3 – VPS1
129.42.0.4 –
129.42.0.5 – VPS2
129.42.0.6 –
129.42.0.7 – Broadcast
```

129.42.0.100/30 - 정적 보조 서브넷
```
129.42.0.100 – 129.42.0.3 (aka VPS1)
129.42.0.101 – 129.42.0.3 (aka VPS1)
129.42.0.102 – 129.42.0.3 (aka VPS1)
129.42.0.103 – 129.42.0.3 (aka VPS1)
```

요약하자면, 휴대용 서브넷을 사용하여 모든 가상 머신 호스트에서 IP 주소를 사용할 수 있게 한 다음 정적 서브넷을 사용하여 가상 머신에서 추가 IP 주소를 사용할 수 있게 했습니다. 원래 휴대용 서브넷의 주소를 사용하거나 간단히 다른 휴대용 서브넷을 추가할 수 있습니다. 이 시나리오를 통해 정적 서브넷을 휴대용 서브넷의 IP 주소로 라우팅해도 좋을 뿐 아니라 실제로 이렇게 하는 것이 효율적이고 유용하다는 점을 명확히 이해할 수 있기를 바랍니다.
