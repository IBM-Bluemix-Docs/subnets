---

copyright:
  years: 1994, 2017-2019
lastupdated: "2019-02-28"

keywords: Global IP addresses, Global IPs, IP Management

subcollection: subnets

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:DomainName: data-hd-keyref="DomainName"}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}
{:generic: data-hd-programlang="generic"}

# グローバル IP アドレスの管理
{:#manage-global-ip-addresses}

グローバル IP アドレスは、**「サブネット」**画面で管理できます。 

1. ブラウザーで[カスタマー・ポータル ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](https://{DomainName}/){: new_window} を開き、ご使用のアカウントでログインします。
1. カスタマー・ポータル・ナビゲーションで、**「クラシック・インフラストラクチャー」**を選択します。 
1. クラシック・インフラストラクチャーのナビゲーション・メニューで、**「ネットワーク」>「IP 管理」>「サブネット」**を選択します。
1. ドロップダウン・メニューで**「グローバル IPv4 (Global IPv4)」**(または IPv6) を選択して、グローバル IP のみが表示されるよう「サブネット」リストをフィルター操作します。
1. 管理するグローバル IP をクリックします。
 
  **注: グローバル IP は、IBM Cloud ネットワーク内のどのサーバーにでもルーティングできる静的 IP アドレスです。 現時点での静的 IP アドレス・オファリングは、同じデータ・センター内の IP アドレスにのみルーティングできますが、グローバル IP アドレスには、この制限は適用されません。**
  
1. IP アドレス管理ページで、グローバル IP アドレスのルーティング先のサーバーの IP アドレスを入力し、該当するメモを入力してから**「更新」**を選択します。

![図 2](images/2_1.png)

## グローバル IP をサーバーに追加 
{:#add-global-ip-server}

ご使用のサーバーがグローバル IP のトラフィックを受け入れるためには、その IP が正しくシステムに追加されている必要があります。 システムごとに、わずかに異なるコマンドが必要となるため、これ以降のいくつかのセクションで説明します。

### Linux サーバー:
{:#add-global-ip-server-linux}

**Red Hat/CentOS**

1. `/etc/sysconfig/network-scripts/ifcfg-eth1:1` の編集 (vim または nano)

* 以下の行を追加してください。
```
      DEVICE=eth1
      IPADDR=[グローバル IP アドレス]
      NETMASK=255.255.255.255
      NETWORK=[プライマリー IP ブロックのネットワーク]
      ONBOOT=yes
```

**Debian/Ubuntu**

1. `/etc/network/interfaces` の編集

* 以下の行を追加してください。

```
      post-up ip addr add [グローバル IP アドレス]/32 dev eth1
      post-down ip addr del [グローバル IP アドレス]/32 dev eth1
```

システムが正常に動作しない場合は、# を次に有効な数値に置き換えて、以下の行を代わりに追加してください。

```
        auto eth1:#

        iface eth1:# inet static

        address [グローバル IP アドレス]

        netmask 255.255.255.255

        gateway [サーバー・プライマリー・パブリック・ゲートウェイ]
```

### Windows サーバー:
{:#add-global-ip-server-windows}

1. **「スタート」->「コントロール パネル」->「ネットワーク接続」->「ローカル エリア ネットワーク (パブリック) (プロパティ)」**を開きます。
* **「インターネット プロトコル (TCP/IP)」**を選択して、**「プロパティ」->「詳細設定」**をクリックします。
* IP アドレスのセクションで**「追加」**を選択して、IP アドレスおよびサブネット・マスクを入力します。
* この作業が完了したら、単に「OK」を押してデスクトップに戻ります。

設定が有効になっていることを確認するには、**「スタート」->「ファイル名を指定して実行」->「cmd」** と進んで DOS プロンプトを開き、次のコマンドを実行します。

```
        > ipconfig /all
```

**注:**

* 上の例のような `eth1:1` ファイルが既にサーバー上にある場合、最後の桁を次に有効な整数まで大きくしてください。
* グローバル IP アドレスから新規サーバーまたは VSI への変更は、約 5 分で有効になります。 
* IBM Cloud ネットワークにおいて、経路変更が更新されるまで 1 分はかかりません。
* グローバル IP は、ローカル・ロード・バランサーには無効です。
* グローバル IP は、固有のサブネットから配布されます。既存のカスタマー IP は、変換することもグローバル IP として使用することもできません。
* グローバル IP それ自体は、ヘルス・チェックを持っていないために自動フェイルオーバー・ソリューションではありません。ただし、DNS 伝搬を回避したい場合、フェイルオーバー環境のためのコンポーネントとしてグローバル IP アドレスを使用できます。
